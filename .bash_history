ls
clear
docker exec -ti jenkins bash
ls jenkins-ansible/
docker exec -ti jenkins bash
pwd
ls
cd jenkins-ansible/
ls
cd jenkins_data/
ls
cd ../jenkins_data/
ls
clear
pwd
cd ..
ls
cd ..
ls
vi docker-compose.yml 
clear
docker-compose down
docker-compose up -d
ls
docker ps
ls
cd jenkins_data/
ls
cd ..
ls
clear
docker exec -ti jenkins bash
cd jenkins_data/
ls
cd ansible/
ls
cd ..
ls
vi docker-compose.yml 
ls -a
cd jenkins_data/
ls
ls -a
cd .ssh/
ls
vi known_hosts
docker exec -ti jenkins bash
vi known_hosts
docker exec -ti jenkins bash
cd jenkins_home/
ls
docker-compose down
docker-compose build
cd /home/ec2-user/jenkins_home/jenkins-
cat /home/ec2-user/jenkins_home/jenkins-
cd jenkins-ansible/
ls
cd db_data/
ls
cat auto.cnf 
cd ../../
ls
vi docker-compose.yml 
ls
cd jenkins-ansible/
ls
vi dockerfile 
cd ..
ls
docker-compose build
cd jenkins-ansible/db_data/
ls -l
ls
id
ls -a
ll
ls -l
cat auto.cnf 
sudo cat auto.cnf 
sudo mv auto.cnf auto.cnf.bk
cd ../../
ls
docker-compose down
docker-compose build
sudo mv auto.cnf.bk 1auto.cnf
cd jenkins_data/ansible/
ls
cd ..
ls
cd ..
ls
cd jenkins-ansible/
ls
cd db_data/
ls
sudo mv auto.cnf.bk 1auto.cnf
ls
cd ../../
ls
docker-compose build
docker images
docker-compose up -d
docker ps
docker exec -ti jenkins bash
cd .ssh
ls -a
cd jenkins_data/
ls
ls -a
cd .ssh/
ls
cat known_hosts 
vi known_hosts 
docker exec -ti jenkins bash
cd jenkins_home/
ls
docker-exec -ti jenkins bash
docker-compose exec -ti jenkins bash
docker ps
docker exec -ti jenkins bash
clear
cd jenkins_home/
ls
cd jenkins_home/jenkins-ansible/
ls
vi hosts 
clear
ls
vi hosts
cd jenkins_home/
ls
docker ps
docker exec -ti jenkins bash
ls
cd jenkins-ansible/
ls
vi dockerfile 
ls
cd ..
ls
docker-compose build
ls
mkdir test
mv docker-compose.yml ./test/
cd test/
ls
vi docker-compose.yml 
cd $PWD/jenkins_data
cd $PWD/../jenkins_data
vi docker-compose.yml 
clear
ls
cd ..
ls
cd test/
ls
vi docker-compose.yml 
ls
docker-compose down
ls
docker ps
cd ..
ls
cp ./test/docker-compose.yml .
ls
vi docker-compose.yml 
docker-compose down
cd test/
vi docker-compose.yml 
docker-compose build
cd ..
ls
sudo chown 1000:1000 jenkins_home -R
LS -L
ls -l
cd jenkins_home/test/
docker-compose build
vi docker-compose.yml 
cd ..
ls
docker-compose build
ls
vi jenkins_data/
clear
ls
cd jenkins_data/
ls
cd ..
ls
cd jenkins-ansible/
ls
vi dockerfile 
docker-compose build
vi dockerfile 
docker-compose build
vi dockerfile 
docker-compose build
vi dockerfile 
docker-compose build
vi dockerfile 
docker-compose build
vi dockerfile 
docker-compose build
vi dockerfile 
docker-compose build
vi dockerfile
docker-compose build
vi dockerfile
docker-compose build
vi dockerfile
docker-compose build
vi dockerfile
docker-compose build
vi dockerfile
docker-compose build
vi dockerfile
docker-compose build
ls
docker exec -ti jenkins bash
ls
docker ps
vi dockerfile
docker-compose build
exit
docker ps
cd jenkins_home/
ls
vi docker-compose.yml 
ls
cd jenkins-ansible/
ls
vi dockerfile 
cler
clear
cd jenkins_home/
vi jenkins_data/dockerfile
ls
clear
cd jenkins-ansible/
ls
vi dockerfile 
clear
cd jenkins_home/
ls
cd jenkins-ansible/
vi dockerfile 
la .al
ls .l
ls .
ls -al
rm .dockerfile.swp 
vi dockerfile
ls
cd ..
docker-compose build
clear
cd jenkins_home/
ls
docker-compose up -d
docker ps
docker exec -ti jenkins bash
docker ps
cd jenkins_home/
ls
docker-compose up -d
docker ps
docker exec -ti jenkins bash
whoami
docker exec -ti jenkins bash
cd jenkins_home/
ls
docker ps
cd jenkins_home/
docker exec -ti jenkins bash
pwd
ls
cd jenkins-ansible/
ls
cat remote-key 
docker ps
docker inspect 3a0
docker inspect 3a0 | grep IPAdd
docker ps
docker inspect c79b | grep IPAdd
docker exec -ti jenkins bash
ls
vi dockerfile 
ls
cd ../
ls
vi docker-compose.yml 
cd ../
cd -
ls
cd centos/
ls
ls -lrt
cat dockerfile 
vi dockerfile 
docker ps
docker exec -ti jenkins bash
docker ps
ls
cd ../
ls
cd jenkins-ansible/
ls
vi dockerfile 
cd ../
ls
cd centos/
ls
docker cp remote-key jenkins:/tmp
docker exec -ti jenkins bash
sudo yum install vim
vim ansible.cfg
ls

docker exec -ti jenkins bash
vi hosts[all:vars]
vi hosts
ls
cd ../jenkins-ansible/
ls
cat hosts 
vi hosts 
ls
cd ../
cd centos/
ls
vi ansible.cfg 
docker cp ansible.cfg jenkins:/tmp
docker exec -ti jenkins bash
cd jenkins_home/centos/
ls
cd ..
cd jenkins-ansible/
ls
cat hosts 
cd jenkins_home/
ls
docker ps
docer exec -ti jenkins bash
docker exec -ti jenkins bash
cd centos/
ls
docker cp remote-key jenkins:/tmp/remote-key
docker exec -ti jenkins bash
vi dockerfile 
clear
pwd
ls
cd jenkins_home/
ls
cd ..
git init
yum install -y git
sudo yum install -y git
git init
git add .
cd jenkins_home/db_data/
ls
cd ~
pwd
ls
sudo git add .
sudo git status
sudo git commit -m "first commit"
sudo git remote add origin https://github.com/Shivaramane/jenkins-docker.git
sudo git push -u origin master
git rm jenkins_home/db_data/ibdata1 
sudo git rm jenkins_home/db_data/ibdata1 
sudo git commit --amend -C HEAD
sudo git push -u origin master
git pull 
sudo git push -f origin master
clear
clear
cd jenkins_home/
ls
docker exec -ti jenkins bash
ls
cd jenkins-ansible/
ls
vi dockerfile 
ls
cd ..
ls
cd centos/
ls
vi dockerfile 
cd ..
ls
cat docker-compose.yml 
cd ..
cd jenkins_home/centos/
cat dockerfile 
docker exec -ti remote_host bash
docker exec -ti remote-host bash
docker ps
docker images
docker rmi 50b0f0987760
df -h
cd jenkins_home/
ls
docker-compose up -d
ls
docker ps
ls -l
cd ..
ls -l
id
sudo chown 1000:1000 jenkins_home -R
docker-compose up -d
cd jenkins_home/
ls
docker-compose up -d
docker ps
docker logs -f jenkins
docker ps
ls
vi docker-compose.yml 
docker images
docker-compose build
docker-compose up -d
docker ps
docker logs -f db
find / -iname ibdata1
cd /home/ec2-user/jenkins_home/jenkins-ansible/db_data/
ls
mv ibdata1 ibdata1.bk
ls
cd ..
ls
docker-compose up -d
docker ps
docker logs -f db
vi docker-compose.yml 
pwd
ls
mkdir db_home
vi docker-compose.yml 
docker-compose build
docker-compose up -d
docker ps
ls
df -h db_data/
df -s
du -s
du -s db_data/
clear
cd jenkins_home/jenkins_data/
ls
cd ..
ls
cd jenkins-ansible/
ls
vi play.yml
cd jenkins_home/jenkins-ansible/
ls
vi play.yml 
docker ps
cd ..
ls
docker-compose up -d
docker ps
cd jenkins-ansible/
ls
vi play.yml 
ls
cd ..
docker exec -ti jenkins bash
cd jenkins_home/
ls
docker exec -ti jenkins bash
cd jenkins-ansible/
vi play.yml 
cd ..
cat docker-compose.yml 
ls
cd jenkins_data/
ls
cd ..
cat docker-compose.yml 
cd jenkins-ansible/
ls
docker cp play.yml jenkins:/var/jenkins_home/ansible
docker exec -ti jenkins bash
clear
cd jenkins_home/jenkins-ansible/
ls
vi put.sh
ls -al
rm -f .put.sh.swp 
ls
vi put.sh 
nl people.txt 
vi put.sh 
chmod +x put.sh 
./put.sh 
.put.sh
sh put.sh 
cat put.sh 
vi put.sh 
./put.sh 
shuf -i 20-25 n 1
shuf -i 20-25 n 
shuf -i 20-25 
shuf -i 20-25 -n 
shuf -i 20-25 -n 1
shuf -i 20-25 -n 2
clear
docker ps
docker exec -ti db bash
clear
cd jenkins_home/jenkins-ansible/
ls
cat people.txt
touch people.txt
ls
vi people.txt 
clear
pwd
vi put.sh
cd jenkins_home/jenkins-ansible/
ls
vi put.sh 
./put.sh 
vi put.sh 
ls
docker cp put.sh db:/tmp/
docker exec -ti db bash
ls
docker cp people.txt db:/tmp/
docker exec -ti db bash
cd jenkins_home/
ls
cd jenkins
cd jenkins-ansible/
ls
vi dockerfile 
ls
mv dockerfile Dockerfile
ls
cd ..
ls
vi docker-compose.yml 
cd centos/
ls
mv dockerfile Dockerfile
ls
docker ps
clear
ls -l
cd ..
cd jenkins-ansible/
ls
cd web/
ls
cd ../../
ls
vi docker-compose.yml 
pwd
cd jenkins-ansible/web/
ls
pwd
cd ../../
vi docker-compose.yml 
clear
docker-compose build
docker-compose up -d
docker ps
docker images
docker-compose up -d
cd jenkins_home/
docker-compose up -d
docker ps
clear
ls -l
docker exec -ti web bash
ls
docker exec -ti web bash
cd jenkins_home/
ls
cd jenkins_data/
ls
cd ..
cd jenkins-ansible/
ls
cd ..
cd db_data/
ls
cd ..
vi docker-compose.yml 
ls
cd db_home/
ls
docker exec -ti jenkins bash
ls
cd ..
cd jenkins-ansible/
ls
vi play.yml 
sudo vi /etc/hosts
clear
exit
cd jenkins_home/
ls
clear
cd jenkins_home/
ls
docker-compose up -d
docker ps
cd jenkins_home/
ls
docker ps
docker-compose up -d
cd jenkins_home/
ls
docker ps
docker-compose up -d
docker ps
cd jenkins_home/
ls
docker ps
ls
ll
cd pipeline
ls
cd ../pipeline-templates/
ls
cat first-pipeline 
cd jenkins_home/
ls
cd pipeline-templates/
ll
cat first-pipeline 
ll
cat multiple-steps 
cd jenkins_home/pipeline-templates/
ll
cat multiple-steps 
ls -la
ls -lah
cd jenkins_home/pipeline-templates/
cat retry 
cd jenkins_home/pipeline-templates/
cat timeout 
cat jenkins_home/pipeline-templates/creds 
cd jenkins_home/
docker ps
cat /etc/os-release 
ll
cd pipeline-templates/
ls
cd ..
cd pipeline
ls
vi Dockerfile 
cd ..
mkdir pipeline
ll
cd pipeline
ls
cat /var/run/docker.sock 
ls /var/run/docker.sock 
vi ../docker-compose.yml 
clear
vi ../docker-compose.yml 
cd ..
vi docker-compose.yml 
cat docker-compose.yml 
vi docker-compose.yml 
clear
cd jenkins_home/
vi docker-compose.yml 
docker-compose build
cd jenkins_home/
ls
cd pipeline
ls
vi Dockerfile 
cd ..
ll
cd jenkins-ansible/
ls
vi Dockerfile 
clear
cd ..
ls
cd pipeline
ls
vi Dockerfile 
cd ..
ll
cd pipeline
ls
cd ..
vi docker-compose.yml 
docker-compose build
docker-compose up -d
docker ps
docker images
cd jenkins_home/
ls
docker ps
docker exec -ti jenkins-docker bash
docker exec -ti jenkins bash
id
ls -lrt /var/run/docker.sock 
sudo chown 1000:1000 /var/run/docker.sock 
ls -lrt /var/run/docker.sock 
docker exec -ti jenkins bash
cd pipeline
ls
cat Jenkinsfile 
cd ..
ls
cd pipeline
ls
ll -al
cd java-app/
ll -al
rm -rf .git
ll -al
cd ..
ll
cd jenkins/
ll
cd ..
mkdir test/test1
mkdir test/test1 -p
ll
cd test/
ls
cd ..
rm -f test
rmdir -f test
rmdir test
rmdir -rf test
rmdir --help
rmdir -p test/
rmdir -r test/
rm -r test
ll
cd jenkins_home/
ls
cd pipeline
ls
docker pull maven:3.6-alpine
docker images
cd jenkins_home/
ll
cd pipeline
ll
docker iamges
docker images
docker run --rm -v $PWD/java-app:/app -v /root/.m2/:/root/.m
docker run --rm -v $PWD/java-app:/app -v /root/.m2/:/root/.m2/ -w /app maven:3.6-alpine mvn -B -DskipTests clean package
ll
cd java-app/
ll
cd target/
ll
docker images
ls /root/.m2/
sudo ls /root/.m2/
cd jenkins_home/
ls
cd pipeline
ll
cd jenkins/
ls
cd build/
ll
cat mvn.sh 
pwd
cd ..
pwd
ll
cd ..
ll
vi jenkins/build/mvn.sh 
ll
cd java-app/
ll
cd target/
ll
rm -f my-app-1.0-SNAPSHOT.jar 
sudo rm -f my-app-1.0-SNAPSHOT.jar 
cd ..
ll
cd jenkins/
ll
cd build/
ll
sudo rm -f my-app-1.0-SNAPSHOT.jar 
chmod +x mvn.sh 
ll
./mvn.sh mvn -B -DskipTests clean package
ll
cd ../../
ll
cd java-app/
ll
cd target/
ll
cd jenkins_home/
ll
cd pipeline/jenkins/build/
ll
cat Dockerfile-Java 
pwd
cp ../../java-app/target/my-app-1.0-SNAPSHOT.jar .
ll
docker build -t test -f Dockerfile-Java .
docker run --rm -ti test bash
docker run --rm -ti test sh
cd jenkins_home/pipeline/jenkins/
ls
cd test/
ll
vi mvn.sh 
docker ps
pwd
cd ..
ll
cd build/
ll
clear
cat mvn.sh 
clear
ll
cat Dockerfile-Java 
docker ps
docker images
docker run --rm -ti test sh
docker run -d --name java_maven test
docker ps
docker logs -f java_maven
docker ps -a
ll
cat docker-compose-build.yml 
export BUILD_TAG=1
docker-compose -f docker-compose-build.yml build
docker images
ll
cat build.sh 
export BUILD_TAG=2
chmod +x build.sh 
ll
./build.sh 
cd ..
ll
./jenkins/build/build.sh 
docker images
ll
cd jenkins/build/
ll
cat mvn.sh 
cat docker-compose-build.yml 
cat Dockerfile-Java 
cat build.sh 
cd ..
ll
cd test/
ll
cat mvn.sh 
cd ..
ll
cd build/
ll
cat mvn.sh 
cd ..
ll
cd ..
ll
cd java-app/
ll
cd jenkins_home/pipeline
ls
vi Jenkinsfile 
pwd
ll
cat Jenkinsfile 
pwd
ll
cd java-app/
ll
cd target/
ll
cd ..
ll
cd jenkins/
ll
cd build/
ll
cat mvn.sh
cd ../../
clear
ll
docker run --rm  -v  $PWD/java-app:/app -v /root/.m2/:/root/.m2/ -w /app maven:3-alpine mvn test
ll
cd java-app/target/
ll
cd ..
ll
cd jenkins/
ll
cd build/
ll
cat mvn.sh 
cd jenkins_home/pipeline/jenkins/build/
ll
cd ..
ll
cd ..
ll
cd java-app/target/
ll
cd surefire-reports/
ll
cd ../../
cd ..
ll
cd jenkins/
ll
cd test/
ll
cd ../../
cat Jenkinsfile 
clear
ll
cd jenkins/build/
ll
cd ..
ll
cd test/
cat mvn.sh 
cd jenkins_home/
ll
clear
cd pipeline
ll
clear
cd jenkins_home/
cd jenkins_home/
ll
cd pipeline
ls /etc/os-release 
cat /etc/os-release 
sudo useradd prod_user
ssh-keygen prod_user
ssh-keygen -f prod_user
ll
clear
cat prod_user
cat prod_user.pub 
clear
cat prod_user
ssh-keygen
ll
cat ~/.ssh/id_rsa.pub
ll
docker ps
clear
ssh -i ~/.ssh/id_rsa 172.31.90.49
docker ps
ls -al ~/.ssh/id_*.pub
ssh-keygen -f prod_user
ll
cat prod_user.pub 
clear
ll
cat prod_user
sudo amazon-linux-extras install docker
docker ps
docker ps
docker images
docker images
ll
docker ps
docker images
ll
cat prod_user.pub 
clear
cat prod_user
clear
docker images

ssh-copy-id ec2-user@100.26.250.146
ssh-copy-id ec2-user@172.31.57.105
cat ~/.ssh/id_rsa.pub | ssh ec2-user@18.206.230.70 "mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys"
docker images
docker tag maven-project:2 maven-test:2
docker images
docker tag maven-test maven:2
docker images
docker ps
cat /etc/os-release 
